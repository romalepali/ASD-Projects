webpackJsonp([40],{Dhth:function(e,t,o){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,o,r,s){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,r){return r(e,t,o)||o},i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0});var i=o("WdUK"),a=o("DThH"),n=o("od+l"),c=o("Eqa7"),l=o("XvSr"),d=window,u=d.ug_serv,h={get urls(){return{sendAuthorVote:document.location.protocol+"//www"+u+"/user/tabComment/create"}},getStorageValue:function(){return localStorage.getItem("author_vote_modal")},setStorageValue:function(){localStorage.setItem("author_vote_modal",1)},sendVote:function(e){return l.e(this.urls.sendAuthorVote,e)}};o.d(t,"default",function(){return $});var p,$=(p=function(){function e(t){r(this,e),this.$$container=t,this.$$form=Object(i.a)(".js-author-vote-form",t),this.$$close=Object(i.a)(".js-close-modal",t),this.$$send=Object(i.a)(".js-send-modal",t),this.$$textarea=Object(i.a)(".js-textarea",t),this.$$blockError=Object(i.a)(".js-block-error",t),this.$$fade=Object(i.a)(".js-author-vote-fade"),this.$$hideElements=Object(i.b)(".js-hide-elements",t),this.$$showElements=Object(i.b)(".js-show-elements",t),this.addEventsListeners()}return e.prototype.addEventsListeners=function(){this.$$close.addEventListener("click",this.closeModal),this.$$send.addEventListener("click",this.send),window.UGAPP.on("AuthorVote:showModal",this.showModal)},e.prototype.showModal=function(){h.getStorageValue()||(Object(n.a)(c.a.author_vote_modal_show),this.$$container.style.display="block",this.$$fade.innerHTML='<div class="modal-backdrop fade-in"></div>'),h.setStorageValue()},e.prototype.send=function(e){e.preventDefault(),Object(n.a)(c.a.author_vote_modal_click),this.$$textarea.value.length>15?(this.$$textarea.style.borderColor="#CCC",this.$$blockError.classList.add("hide"),this.successModal(),h.sendVote(new FormData(this.$$form))):(this.$$textarea.style.borderColor="#D93838",this.$$blockError.classList.remove("hide"))},e.prototype.successModal=function(){this.$$hideElements.map(function(e){e.classList.add("hide")}),this.$$showElements.map(function(e){e.classList.remove("hide")})},e.prototype.closeModal=function(){this.$$fade.innerHTML="",this.$$container.style.display="none"},e}(),s(p.prototype,"showModal",[a.a],Object.getOwnPropertyDescriptor(p.prototype,"showModal"),p.prototype),s(p.prototype,"send",[a.a],Object.getOwnPropertyDescriptor(p.prototype,"send"),p.prototype),s(p.prototype,"successModal",[a.a],Object.getOwnPropertyDescriptor(p.prototype,"successModal"),p.prototype),s(p.prototype,"closeModal",[a.a],Object.getOwnPropertyDescriptor(p.prototype,"closeModal"),p.prototype),p)}});